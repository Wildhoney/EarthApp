!function(n){"use strict";n.module("earthApp",[])}(window.angular),function(n,e,t,o){"use strict";e.directive("earth",["$http",function(n){return{restrict:"E",require:"ngModel",scope:{model:"=ngModel"},controller:["$scope",function(n){n.options={},n.setOptions=function(e){n.options=e},n.renderEarth=function(e){var t=n.options.earth,o=new THREE.SphereGeometry(t.radius,t.segments,t.rings),r=new THREE.MeshLambertMaterial({color:16777215}),i=new THREE.Mesh(o,r);e.add(i)},n.renderLights=function(e){var t=n.options.light,o=new THREE.PointLight(2799356);o.position.x=-300,o.position.y=200,o.position.z=t.z_position,e.add(o)}}],link:function(e,r){n.get("earth.yaml").then(function(n){var i=t.load(n.data),a=o.innerWidth/o.innerHeight,s=new THREE.WebGLRenderer({alpha:i.scene.transparent}),c=new THREE.PerspectiveCamera(i.scene.angle,a,i.scene.near,i.scene.far),d=new THREE.Scene;e.setOptions(i),d.add(c),c.position.z=i.camera.z_position,s.setSize(o.innerWidth,o.innerHeight),r.append(s.domElement),e.renderEarth(d),e.renderLights(d),s.render(d,c)}),e.model={setCountry:function(n){console.log("Changing to",n,"...")}}}}}])}(window.angular,window.angular.module("earthApp"),window.jsyaml,window),function(n){"use strict";n.module("earthApp").controller("ApplicationController",["$scope",function(e){e.current={name:null},e.interface={setCountry:n.noop},e.setCountry=function(n){e.current.name=n,e.interface.setCountry(n)}}])}(window.angular);